import {
  Connector
} from "./chunk-YZWISNQ2.js";
import {
  init_define_process_env
} from "./chunk-BBLCKECE.js";

// dep:@snapshot-labs_lock_connectors_injected
init_define_process_env();

// node_modules/@snapshot-labs/lock/connectors/injected.ts
init_define_process_env();
var Connector2 = class extends Connector {
  async connect() {
    let provider;
    if (window["ethereum"]) {
      provider = window["ethereum"];
      try {
        await window["ethereum"].request({ method: "eth_requestAccounts" });
      } catch (e) {
        console.error(e);
        if (e.code === 4001)
          return;
      }
    } else if (window["web3"]) {
      provider = window["web3"].currentProvider;
    }
    return provider;
  }
  async isLoggedIn() {
    if (!window["ethereum"])
      return false;
    if (window["ethereum"].selectedAddress)
      return true;
    await new Promise((r) => setTimeout(r, 400));
    return !!window["ethereum"].selectedAddress;
  }
};

// dep:@snapshot-labs_lock_connectors_injected
var snapshot_labs_lock_connectors_injected_default = Connector2;
export {
  snapshot_labs_lock_connectors_injected_default as default
};
//# sourceMappingURL=@snapshot-labs_lock_connectors_injected.js.map
