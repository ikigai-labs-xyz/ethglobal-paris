{
  "version": 3,
  "sources": ["dep:@snapshot-labs_lock_connectors_walletconnect", "../../@snapshot-labs/lock/connectors/walletconnect.ts"],
  "sourcesContent": ["import d from \"./node_modules/@snapshot-labs/lock/connectors/walletconnect.ts\";export default d;", "import LockConnector from '../src/connector';\n\nlet provider: any;\nexport default class Connector extends LockConnector {\n  async connect() {\n    try {\n      const imports = await import(\n        \"@walletconnect/ethereum-provider\"!\n      );\n      const { EthereumProvider } = imports;\n\n      provider = await EthereumProvider.init(this.options);\n      await provider.enable();\n    } catch (e) {\n      console.error(e);\n      return;\n    }\n    provider.connectorName = \"walletconnect\";\n    return provider;\n  }\n\n  removeHashFromLocalStorage() {\n    if (!localStorage) return;\n\n    const wcKeys: string[] = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i) as string;\n      if (key.startsWith('wc@2:')) {\n        wcKeys.push(key);\n      }\n    }\n\n    wcKeys.forEach(key => localStorage.removeItem(key));\n  }\n\n  logout() {\n    if ('disconnect' in provider) {\n      provider.disconnect().catch(this.removeHashFromLocalStorage);\n      provider = null;\n    } else {\n      this.removeHashFromLocalStorage();\n    }\n  }\n}\n"],
  "mappings": ";;;;;;;;AAAA;;;ACAA;AAEA,IAAI;AACJ,+BAAuC,UAAc;AAAA,QAC7C,UAAU;AACd,QAAI;AACF,YAAM,UAAU,MAAM,OACpB;AAEF,YAAM,EAAE,qBAAqB;AAE7B,iBAAW,MAAM,iBAAiB,KAAK,KAAK,OAAO;AACnD,YAAM,SAAS,OAAO;AAAA,IACxB,SAAS,GAAP;AACA,cAAQ,MAAM,CAAC;AACf;AAAA,IACF;AACA,aAAS,gBAAgB;AACzB,WAAO;AAAA,EACT;AAAA,EAEA,6BAA6B;AAC3B,QAAI,CAAC;AAAc;AAEnB,UAAM,SAAmB,CAAC;AAC1B,aAAS,IAAI,GAAG,IAAI,aAAa,QAAQ,KAAK;AAC5C,YAAM,MAAM,aAAa,IAAI,CAAC;AAC9B,UAAI,IAAI,WAAW,OAAO,GAAG;AAC3B,eAAO,KAAK,GAAG;AAAA,MACjB;AAAA,IACF;AAEA,WAAO,QAAQ,SAAO,aAAa,WAAW,GAAG,CAAC;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QAAI,gBAAgB,UAAU;AAC5B,eAAS,WAAW,EAAE,MAAM,KAAK,0BAA0B;AAC3D,iBAAW;AAAA,IACb,OAAO;AACL,WAAK,2BAA2B;AAAA,IAClC;AAAA,EACF;AACF;;;AD3C+E,IAAO,sDAAQ;",
  "names": []
}
