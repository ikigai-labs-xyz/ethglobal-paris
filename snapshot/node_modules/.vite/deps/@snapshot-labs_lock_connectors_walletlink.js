import {
  Connector
} from "./chunk-YZWISNQ2.js";
import {
  init_define_process_env
} from "./chunk-BBLCKECE.js";

// dep:@snapshot-labs_lock_connectors_walletlink
init_define_process_env();

// node_modules/@snapshot-labs/lock/connectors/walletlink.ts
init_define_process_env();
var Connector2 = class extends Connector {
  async connect() {
    let provider;
    try {
      let CoinbaseWalletSDK = await import("./dist-WPEJJMX2.js");
      if (CoinbaseWalletSDK.default)
        CoinbaseWalletSDK = CoinbaseWalletSDK.default;
      if (CoinbaseWalletSDK.default)
        CoinbaseWalletSDK = CoinbaseWalletSDK.default;
      const walletSDK = new CoinbaseWalletSDK(this.options);
      provider = walletSDK.makeWeb3Provider(this.options.ethJsonrpcUrl, this.options.chainId);
      await provider.enable();
    } catch (e) {
      console.error(e);
      return;
    }
    provider.connectorName = "walletlink";
    return provider;
  }
  logout() {
    if (localStorage) {
      localStorage.removeItem("-walletlink:https://www.walletlink.org:session:id");
      localStorage.removeItem("-walletlink:https://www.walletlink.org:session:secret");
      localStorage.removeItem("-walletlink:https://www.walletlink.org:session:linked");
      localStorage.removeItem("-walletlink:https://www.walletlink.org:Addresses");
    }
    return;
  }
};

// dep:@snapshot-labs_lock_connectors_walletlink
var snapshot_labs_lock_connectors_walletlink_default = Connector2;
export {
  snapshot_labs_lock_connectors_walletlink_default as default
};
//# sourceMappingURL=@snapshot-labs_lock_connectors_walletlink.js.map
