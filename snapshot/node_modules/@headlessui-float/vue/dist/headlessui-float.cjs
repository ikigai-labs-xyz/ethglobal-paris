"use strict";var ce=Object.defineProperty;var de=(e,r,o)=>r in e?ce(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o;var D=(e,r,o)=>(de(e,typeof r!="symbol"?r+"":r,o),o);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("vue"),L=require("@headlessui/vue"),Y=require("@floating-ui/vue"),S=require("@floating-ui/dom");function R(e){if(e==null||e.value==null)return null;const r=e.value.$el??e.value;return r.$el?R(a.ref(r)):r}class me{constructor(){D(this,"current",this.detect())}set(r){this.current!==r&&(this.current=r)}reset(){this.set(this.detect())}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}const B=new me;function M(e){return e.reduce((r,o)=>o.type===a.Fragment?r.concat(M(o.children)):r.concat(o),[])}function j(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}function H(e){return e=a.unref(e),e&&(e==null?void 0:e.nodeType)!==Node.COMMENT_NODE}function W(e){if(B.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(Object.prototype.hasOwnProperty.call(e,"value")){const r=R(e);if(r)return r.ownerDocument}return document}function he(e,r,o,l,t){a.watch([()=>t.offset,()=>t.flip,()=>t.shift,()=>t.autoPlacement,()=>t.arrow,()=>t.hide,()=>t.middleware],()=>{const i=[];(typeof t.offset=="number"||typeof t.offset=="object"||typeof t.offset=="function")&&i.push(S.offset(t.offset)),(t.flip===!0||typeof t.flip=="number"||typeof t.flip=="object")&&i.push(S.flip({padding:typeof t.flip=="number"?t.flip:void 0,...typeof t.flip=="object"?t.flip:{}})),(t.shift===!0||typeof t.shift=="number"||typeof t.shift=="object")&&i.push(S.shift({padding:typeof t.shift=="number"?t.shift:void 0,...typeof t.shift=="object"?t.shift:{}})),(t.autoPlacement===!0||typeof t.autoPlacement=="object")&&i.push(S.autoPlacement(typeof t.autoPlacement=="object"?t.autoPlacement:void 0)),(t.arrow===!0||typeof t.arrow=="number")&&i.push(Y.arrow({element:l,padding:t.arrow===!0?0:t.arrow})),i.push(...typeof t.middleware=="function"?t.middleware({referenceEl:r,floatingEl:o}):t.middleware||[]),(t.hide===!0||typeof t.hide=="object")&&i.push(S.hide(typeof t.hide=="object"?t.hide:void 0)),e.value=i},{immediate:!0})}function ve(e,r,o){let l=()=>{};a.onMounted(()=>{if(e&&B.isClient&&typeof ResizeObserver<"u"&&r.value&&r.value instanceof Element){const t=new ResizeObserver(([i])=>{o.value=i.borderBoxSize.reduce((d,{inlineSize:u})=>d+u,0)});t.observe(r.value),l=()=>{t.disconnect(),o.value=null}}}),a.onBeforeUnmount(()=>{l()})}const pe=["origin-bottom","origin-top","origin-right","origin-left","origin-bottom-left","origin-bottom-right","origin-top-left","origin-top-right"],q=e=>{switch(e){case"top":return"origin-bottom";case"bottom":return"origin-top";case"left":return"origin-right";case"right":return"origin-left";case"top-start":case"right-end":return"origin-bottom-left";case"top-end":case"left-end":return"origin-bottom-right";case"right-start":case"bottom-start":return"origin-top-left";case"left-start":case"bottom-end":return"origin-top-right";default:return""}};function ge(e,r){const o=a.computed(()=>{if(typeof e.originClass=="function")return e.originClass(r.value);if(typeof e.originClass=="string")return e.originClass;if(e.tailwindcssOriginClass)return q(r.value)}),l=a.computed(()=>e.enter||o.value?`${e.enter||""} ${o.value||""}`:void 0),t=a.computed(()=>e.leave||o.value?`${e.leave||""} ${o.value||""}`:void 0);return{originClassRef:o,enterActiveClassRef:l,leaveActiveClassRef:t}}function _(e,r,...o){if(e in r){const t=r[e];return typeof t=="function"?t(...o):t}const l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,_),l}const X=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(process.env.NODE_ENV==="test"?e=>`${e}:not([tabindex='-1']):not([style*='display: none'])`:e=>`${e}:not([tabindex='-1'])`).join(",");var G=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(G||{});function ye(e,r=0){var o;return e===((o=W(e))==null?void 0:o.body)?!1:_(r,{[0](){return e.matches(X)},[1](){let l=e;for(;l!==null;){if(l.matches(X))return!0;l=l.parentElement}return!1}})}function F(e,r,o){B.isServer||a.watchEffect(l=>{document.addEventListener(e,r,o),l(()=>document.removeEventListener(e,r,o))})}function J(e,r,o=a.computed(()=>!0)){function l(i,d){if(!o.value||i.defaultPrevented)return;const u=d(i);if(u===null||!u.getRootNode().contains(u))return;const f=function m(c){return typeof c=="function"?m(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(const m of f){if(m===null)continue;const c=m instanceof HTMLElement?m:R(m);if(c!=null&&c.contains(u)||i.composed&&i.composedPath().includes(c))return}return!ye(u,G.Loose)&&u.tabIndex!==-1&&i.preventDefault(),r(i,u)}const t=a.ref(null);F("mousedown",i=>{var d,u;o.value&&(t.value=((u=(d=i.composedPath)==null?void 0:d.call(i))==null?void 0:u[0])||i.target)},!0),F("click",i=>{t.value&&(l(i,()=>t.value),t.value=null)},!0),F("blur",i=>l(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}const K=Symbol("ReferenceContext"),Q=Symbol("FloatingContext"),Z=Symbol("ArrowContext");function ee(e){const r=a.inject(K,null);if(r===null){const o=new Error(`<${e} /> must be in the <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ee),o}return r}function te(e){const r=a.inject(Q,null);if(r===null){const o=new Error(`<${e} /> must be in the <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,te),o}return r}function ne(e){const r=a.inject(Z,null);if(r===null){const o=new Error(`<${e} /> must be in the <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ne),o}return r}const n={as:{type:[String,Function],default:"template"},floatingAs:{type:[String,Function],default:"div"},show:{type:Boolean,default:null},placement:{type:String,default:"bottom-start"},strategy:{type:String,default:"absolute"},offset:[Number,Function,Object],shift:{type:[Boolean,Number,Object],default:!1},flip:{type:[Boolean,Number,Object],default:!1},arrow:{type:[Boolean,Number],default:!1},autoPlacement:{type:[Boolean,Object],default:!1},hide:{type:[Boolean,Object],default:!1},autoUpdate:{type:[Boolean,Object],default:!0},zIndex:{type:[Number,String],default:9999},transitionName:String,transitionType:String,enter:String,enterFrom:String,enterTo:String,leave:String,leaveFrom:String,leaveTo:String,originClass:[String,Function],tailwindcssOriginClass:{type:Boolean,default:!1},portal:{type:Boolean,default:!1},transform:{type:Boolean,default:!0},adaptiveWidth:{type:Boolean,default:!1},composable:{type:Boolean,default:!1},dialog:{type:Boolean,default:!1},middleware:{type:[Array,Function],default:()=>[]}};function z(e,r,o,l){const{referenceRef:t}=l,i=r,d=a.mergeProps(o,{ref:t}),u=a.cloneVNode(e,i.as==="template"?d:{});return i.as==="template"?u:typeof i.as=="string"?a.h(i.as,d,[u]):a.h(i.as,d,()=>[u])}function $(e,r,o,l){const{floatingRef:t,props:i,mounted:d,show:u,x:f,y:m,placement:c,strategy:p,referenceElWidth:h,updateFloating:g}=l,s=a.mergeProps({...i,as:i.floatingAs},r),{enterActiveClassRef:v,leaveActiveClassRef:b}=ge(s,c),x={enterActiveClass:v.value,enterFromClass:s.enterFrom,enterToClass:s.enterTo,leaveActiveClass:b.value,leaveFromClass:s.leaveFrom,leaveToClass:s.leaveTo},C={name:s.transitionName,type:s.transitionType,appear:!0,...s.transitionName?{}:x,onBeforeEnter(){u.value=!0},onAfterLeave(){u.value=!1}},A={enter:v.value,enterFrom:s.enterFrom,enterTo:s.enterTo,leave:b.value,leaveFrom:s.leaveFrom,leaveTo:s.leaveTo,onBeforeEnter:C.onBeforeEnter,onAfterLeave:C.onAfterLeave},N={style:{...!s.dialog&&s.transform?{position:p.value,zIndex:s.zIndex,top:"0px",left:"0px",right:"auto",bottom:"auto",transform:`translate(${Math.round(f.value||0)}px,${Math.round(m.value||0)}px)`}:{position:p.value,zIndex:s.zIndex,top:`${m.value||0}px`,left:`${f.value||0}px`},width:s.adaptiveWidth&&typeof h.value=="number"?`${h.value}px`:void 0}};function V(y){return s.portal?a.h(L.Portal,()=>y):y}function T(y){const P=a.mergeProps(N,o,s.dialog?{}:{ref:t});return s.as==="template"?y:typeof s.as=="string"?a.h(s.as,P,y):a.h(s.as,P,()=>y)}function O(){function y(){var w;const P=s.as==="template"?a.mergeProps(N,o,s.dialog?{}:{ref:t}):null,E=a.cloneVNode(e,P);return((w=E.props)==null?void 0:w.unmount)===!1?(g(),E):typeof s.show!="boolean"||s.show?E:a.createCommentVNode()}return B.isServer?d.value&&s.show?y():a.createCommentVNode():s.transitionChild?a.h(L.TransitionChild,{key:`placement-${c.value}`,...s.dialog?{ref:t}:{},as:"template",...A},y):a.h(a.Transition,{...s.dialog?{ref:t}:{},...C},y)}return V(T(O()))}function U(e,r,o,l,t){const i=a.ref(!1),d=a.toRef(l,"placement"),u=a.toRef(l,"strategy"),f=a.shallowRef({}),m=a.ref(null),c=a.ref(void 0),p=a.ref(void 0),h=a.computed(()=>R(r)),g=a.computed(()=>R(o)),s=a.computed(()=>H(h)&&H(g)),{x:v,y:b,placement:x,strategy:C,middlewareData:A,update:N}=Y.useFloating(h,g,{placement:d,strategy:u,middleware:f,whileElementsMounted:()=>{}}),V=a.ref(null);a.onMounted(()=>{i.value=!0});function T(){s.value&&(N(),t("update"))}a.watch([d,u,f],T,{flush:"sync"}),he(f,h,g,m,l),a.watch(A,()=>{const w=A.value.arrow;c.value=w==null?void 0:w.x,p.value=w==null?void 0:w.y}),ve(l.adaptiveWidth,h,V),a.watch(e,async(w,Se,ue)=>{if(await a.nextTick(),e.value&&s.value&&l.autoUpdate){const fe=S.autoUpdate(h.value,g.value,T,typeof l.autoUpdate=="object"?l.autoUpdate:void 0);t("show"),ue(()=>{fe(),e.value||t("hide")})}},{flush:"post",immediate:!0});const O=a.ref(!0);a.watch(h,()=>{!(h.value instanceof Element)&&s.value&&O.value&&(O.value=!1,window.requestAnimationFrame(()=>{O.value=!0,T()}))},{flush:"sync"});const y={referenceRef:r,placement:x},P={floatingRef:o,props:l,mounted:i,show:e,x:v,y:b,placement:x,strategy:C,referenceElWidth:V,updateFloating:T},E={ref:m,placement:x,x:c,y:p};return a.provide(Z,E),{referenceApi:y,floatingApi:P,arrowApi:E,x:v,y:b,placement:x,strategy:C,referenceEl:h,floatingEl:g,middlewareData:A,update:T}}const re={name:"Float",inheritAttrs:!1,props:n,emits:["show","hide","update"],setup(e,{emit:r,slots:o,attrs:l}){const t=a.ref(e.show??!1),i=a.ref(null),d=a.ref(null),{referenceApi:u,floatingApi:f,placement:m}=U(t,i,d,e,r);function c(h){return e.as==="template"?h:typeof e.as=="string"?a.h(e.as,l,h):a.h(e.as,l,()=>h)}const p={placement:m.value};return e.composable||e.dialog?(a.provide(K,u),a.provide(Q,f),()=>{if(o.default)return c(o.default(p))}):()=>{if(!o.default)return;const[h,g]=M(o.default(p)).filter(j);if(!j(h))return;const s=z(h,{as:"template"},{},u),v=$(g,{as:e.floatingAs},{},f);return c([s,v])}}},oe={as:n.as},we={name:"FloatReference",inheritAttrs:!1,props:oe,setup(e,{slots:r,attrs:o}){const l=ee("FloatReference"),{placement:t}=l;return()=>{if(!r.default)return;const i={placement:t.value};return z(r.default(i)[0],e,o,l)}}},I={as:n.floatingAs,transitionName:n.transitionName,transitionType:n.transitionType,enter:n.enter,enterFrom:n.enterFrom,enterTo:n.enterTo,leave:n.leave,leaveFrom:n.leaveFrom,leaveTo:n.leaveTo,originClass:n.originClass,tailwindcssOriginClass:n.tailwindcssOriginClass,transitionChild:{type:Boolean,default:!1}},Fe={name:"FloatContent",inheritAttrs:!1,props:I,setup(e,{slots:r,attrs:o}){const l=te("FloatContent"),{placement:t}=l;return()=>{if(!r.default)return;const i={placement:t.value},d=Object.entries(e).reduce((u,[f,m])=>{const c=I;return(typeof c[f]=="object"&&m===c[f].default||m===void 0)&&delete u[f],u},{...e});return $(r.default(i)[0],d,o,l)}}},ae={as:{...n.as,default:"div"},offset:{type:Number,default:4}},be={name:"FloatArrow",props:ae,setup(e,{slots:r,attrs:o}){const{ref:l,placement:t,x:i,y:d}=ne("FloatArrow");return()=>{var m;const u={top:"bottom",right:"left",bottom:"top",left:"right"}[t.value.split("-")[0]],f={left:typeof i.value=="number"?`${i.value}px`:void 0,top:typeof d.value=="number"?`${d.value}px`:void 0,right:void 0,bottom:void 0,[u]:`${e.offset*-1}px`};if(e.as==="template"){const c={placement:t.value},p=(m=r.default)==null?void 0:m.call(r,c)[0];return!p||!j(p)?void 0:a.cloneVNode(p,{ref:l,style:f})}return a.h(e.as,a.mergeProps(o,{ref:l,style:f}))}}},ie={as:n.as,show:n.show,placement:n.placement,strategy:n.strategy,offset:n.offset,shift:n.shift,flip:n.flip,arrow:n.arrow,autoPlacement:n.autoPlacement,hide:n.hide,autoUpdate:n.autoUpdate,zIndex:n.zIndex,transitionName:n.transitionName,transitionType:n.transitionType,enter:n.enter,enterFrom:n.enterFrom,enterTo:n.enterTo,leave:n.leave,leaveFrom:n.leaveFrom,leaveTo:n.leaveTo,originClass:n.originClass,tailwindcssOriginClass:n.tailwindcssOriginClass,portal:n.portal,transform:n.transform,middleware:n.middleware},k={name:"FloatVirtual",inheritAttrs:!1,props:ie,emits:["initial","show","hide","update"],setup(e,{emit:r,slots:o,attrs:l}){const t=a.ref(e.show??!1),i=a.ref({getBoundingClientRect(){return{x:0,y:0,top:0,left:0,bottom:0,right:0,width:0,height:0}}}),d=a.ref(null),{floatingApi:u,placement:f}=U(t,i,d,e,r);a.watch(()=>e.show,()=>{t.value=e.show??!1});function m(){t.value=!1}return r("initial",{show:t,placement:f,reference:i,floating:d}),()=>{if(!o.default)return;const c={placement:f.value,close:m},[p]=M(o.default(c)).filter(j);return $(p,{as:e.as,show:t.value},l,u)}}},le={as:n.as,placement:n.placement,strategy:n.strategy,offset:n.offset,shift:n.shift,flip:{...n.flip,default:!0},arrow:n.arrow,autoPlacement:n.autoPlacement,hide:n.hide,autoUpdate:n.autoUpdate,zIndex:n.zIndex,transitionName:n.transitionName,transitionType:n.transitionType,enter:n.enter,enterFrom:n.enterFrom,enterTo:n.enterTo,leave:n.leave,leaveFrom:n.leaveFrom,leaveTo:n.leaveTo,originClass:n.originClass,tailwindcssOriginClass:n.tailwindcssOriginClass,transform:n.transform,middleware:n.middleware},Ce={name:"FloatContextMenu",inheritAttrs:!1,props:le,emits:["show","hide","update"],setup(e,{emit:r,slots:o,attrs:l}){function t({show:i,reference:d,floating:u}){F("contextmenu",f=>{f.preventDefault(),d.value={getBoundingClientRect(){return{width:0,height:0,x:f.clientX,y:f.clientY,top:f.clientY,left:f.clientX,right:f.clientX,bottom:f.clientY}}},i.value=!0}),J(u,()=>{i.value=!1},a.computed(()=>i.value))}return()=>{if(o.default)return a.h(k,{...e,...l,portal:!0,onInitial:t,onShow:()=>r("show"),onHide:()=>r("hide"),onUpdate:()=>r("update")},o.default)}}},se={as:n.as,placement:n.placement,strategy:n.strategy,offset:n.offset,shift:n.shift,flip:n.flip,arrow:n.arrow,autoPlacement:n.autoPlacement,hide:n.hide,autoUpdate:n.autoUpdate,zIndex:n.zIndex,transitionName:n.transitionName,transitionType:n.transitionType,enter:n.enter,enterFrom:n.enterFrom,enterTo:n.enterTo,leave:n.leave,leaveFrom:n.leaveFrom,leaveTo:n.leaveTo,originClass:n.originClass,tailwindcssOriginClass:n.tailwindcssOriginClass,transform:n.transform,middleware:n.middleware,globalHideCursor:{type:Boolean,default:!0}},xe={name:"FloatCursor",inheritAttrs:!1,props:se,emits:["show","hide","update"],setup({globalHideCursor:e,...r},{emit:o,slots:l,attrs:t}){function i({show:d,reference:u,floating:f}){function m(){d.value=!0}function c(){d.value=!1}function p(v){u.value={getBoundingClientRect(){return{width:0,height:0,x:v.clientX,y:v.clientY,top:v.clientY,left:v.clientX,right:v.clientX,bottom:v.clientY}}}}function h(v){m(),p(v)}function g(v){m(),p(v.touches[0])}const s=W(f);s&&(a.watchEffect(v=>{if(e&&!s.getElementById("headlesui-float-cursor-style")){const b=s.createElement("style");(s.head||s.getElementsByTagName("head")[0]).appendChild(b),b.id="headlesui-float-cursor-style",b.appendChild(s.createTextNode(["*, *::before, *::after {","  cursor: none !important;","}",".headlesui-float-cursor-root {","  pointer-events: none !important;","}"].join(`
`))),v(()=>{var C;return(C=s.getElementById("headlesui-float-cursor-style"))==null?void 0:C.remove()})}},{flush:"post"}),"ontouchstart"in window||navigator.maxTouchPoints>0?(F("touchstart",g),F("touchend",c),F("touchmove",g)):(F("mouseenter",h),F("mouseleave",c),F("mousemove",h)))}return()=>{if(l.default)return a.h(k,{...r,...t,portal:!0,class:"headlesui-float-cursor-root",onInitial:i,onShow:()=>o("show"),onHide:()=>o("hide"),onUpdate:()=>o("update")},l.default)}}};function Te(e){return(r,{slots:o})=>a.h(re,a.mergeProps(e,r),o)}const Pe=["Float","FloatArrow"];function Ee(e={}){const{prefix:r=""}=e;return{type:"component",resolve:o=>{if(o.startsWith(r)){const l=o.substring(r.length);if(Pe.includes(l))return{name:l,from:"@headlessui-float/vue"}}}}}exports.Float=re;exports.FloatArrow=be;exports.FloatArrowPropsValidators=ae;exports.FloatContent=Fe;exports.FloatContentPropsValidators=I;exports.FloatContextMenu=Ce;exports.FloatContextMenuPropsValidators=le;exports.FloatCursor=xe;exports.FloatCursorPropsValidators=se;exports.FloatPropsValidators=n;exports.FloatReference=we;exports.FloatReferencePropsValidators=oe;exports.FloatVirtual=k;exports.FloatVirtualPropsValidators=ie;exports.HeadlessUiFloatResolver=Ee;exports.createHighOrderFloatComponent=Te;exports.renderFloatingElement=$;exports.renderReferenceElement=z;exports.tailwindcssOriginClassResolver=q;exports.tailwindcssOriginSafelist=pe;exports.useFloat=U;exports.useOutsideClick=J;
